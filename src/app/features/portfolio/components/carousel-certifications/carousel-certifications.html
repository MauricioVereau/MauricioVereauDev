<div class="max-w-5xl mx-auto">
  <div class="relative w-full" role="region" aria-roledescription="carousel">
    <div class="overflow-hidden">
      <div class="relative">
        <div class="flex -ml-4 transition-transform duration-500 ease-out" [style.transform]="translateX">
          @for (cert of items(); track $index) {
          <div role="group" aria-roledescription="slide"
            class="min-w-0 shrink-0 grow-0 basis-full pl-4 md:basis-1/2 lg:basis-1/3">
            <div class="glass-card p-6 h-full group hover:border-primary/50 transition-all duration-300">
              <div class="relative mb-4 overflow-hidden rounded-lg bg-muted/30">
                <img [src]="cert.imageUrl" [alt]="cert.title"
                  class="w-full h-32 object-contain p-4 transition-transform duration-300 group-hover:scale-105" loading="lazy" />
                <div
                  class="absolute inset-0 bg-linear-to-t from-background/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                </div>
              </div>

              <div class="space-y-2">
                <h3 class="font-semibold text-foreground group-hover:text-primary transition-colors line-clamp-2">
                  {{ cert.title | t}}
                </h3>
                <p class="text-sm text-muted-foreground">
                  {{ cert.provider }}
                </p>
                <div class="flex items-center justify-between pt-2">
                  <span class="text-xs text-primary/80 font-medium">
                    {{ cert.year }}
                  </span>
                  <a [href]="cert.credentialUrl" target="_blank" rel="noopener noreferrer"
                    class="inline-flex items-center gap-1 text-xs text-muted-foreground hover:text-primary transition-colors">
                    Ver credencial
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M15 3h6v6" />
                      <path d="M10 14 21 3" />
                      <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
          }
        </div>
      </div>
    </div>

    <!-- Controles grandes -->
    <button type="button" (click)="prev()" class="items-center justify-center gap-2 whitespace-nowrap text-sm font-medium
             ring-offset-background transition-colors focus-visible:outline-none
             focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
             disabled:pointer-events-none disabled:opacity-50
             [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0
             border hover:text-accent-foreground absolute h-8 w-8 rounded-full
             top-1/2 -translate-y-1/2 hidden md:flex -left-12
             bg-background/50 border-border/50 hover:bg-primary/20 hover:border-primary/50">
      <i class="ri-arrow-left-line text-foreground"></i>
    </button>

    <button type="button" (click)="next()" class="items-center justify-center gap-2 whitespace-nowrap text-sm font-medium
             ring-offset-background transition-colors focus-visible:outline-none
             focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
             disabled:pointer-events-none disabled:opacity-50
             [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0
             border hover:text-accent-foreground absolute h-8 w-8 rounded-full
             top-1/2 -translate-y-1/2 hidden md:flex -right-12
             bg-background/50 border-border/50 hover:bg-primary/20 hover:border-primary/50">
      <i class="ri-arrow-right-line text-foreground"></i>
    </button>
  </div>

  <!-- Dots dinÃ¡micos -->
    <div class="flex justify-center gap-2 mt-6">
    @for (_ of [].constructor(totalPages()); track $index) {
      <button
        type="button"
        class="w-2 h-2 rounded-full transition-colors"
        [class.bg-primary]="isActiveDot($index)"
        [class.bg-muted-foreground/30]="!isActiveDot($index)"
        (click)="goTo($index)"
        [attr.aria-label]="'Go to slide ' + ($index + 1)"
      ></button>
    }
  </div>
</div>
